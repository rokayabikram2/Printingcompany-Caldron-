{"version":3,"file":"LensBottom.js","sourceRoot":"","sources":["../../../../src/lens/negative-space/LensBottom.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAqD;AAErD,2CAAsC;AACtC,iCAAoD;AAGvC,QAAA,UAAU,GAAG,IAAA,kBAAU,EAA8B,CAAC,KAAgB,EAAE,GAAG,EAAsB,EAAE;IAC5G,MAAM,EACF,YAAY,EACZ,QAAQ,EACR,gBAAgB,EAChB,QAAQ,EACR,iBAAiB,EACjB,KAAK,EAAE,oBAAoB,KAE3B,KAAK,EADF,IAAI,UACP,KAAK,EARH,0FAQL,CAAQ,CAAC;IACV,MAAM,QAAQ,GAAI,GAA0C,CAAC;IAE7D,IAAI,CAAC,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,OAAO,CAAA,EAAE;QACpB,OAAO,IAAI,CAAC;KACf;IAED,MAAM,eAAe,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;IAC3C,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,GAAG,QAAQ,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC;IACnF,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,GAAG,eAAe,CAAC;IAClE,MAAM,MAAM,GAAG,IAAA,aAAK,EAAC,cAAc,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IACnD,MAAM,eAAe,GAAG,QAAQ,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC;IACpD,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;IACvD,MAAM,aAAa,GAAG;QAClB,MAAM,EAAE,GAAG,MAAM,IAAI;QACrB,KAAK,EAAE,MAAM;QACb,GAAG,EAAE,GAAG,GAAG,IAAI;KAClB,CAAC;IAEF,OAAO,CACH,uBAAC,WAAI,kBACD,gBAAgB,EAAE,gBAAgB,EAClC,QAAQ,EAAE,QAAQ,EAClB,iBAAiB,EAAE,iBAAiB,EACpC,KAAK,kCACE,oBAAoB,GACpB,aAAa,KAEhB,IAAI,EACV,CACL,CAAC;AACN,CAAC,CAAC,CAAC;AAEH,kBAAU,CAAC,WAAW,GAAG,YAAY,CAAC","sourcesContent":["import { forwardRef, MutableRefObject } from 'react';\n\nimport { clamp } from 'src/lib/clamp';\nimport { Lens } from 'src/lens/negative-space/Lens';\nimport type { LensProps } from 'src/types';\n\nexport const LensBottom = forwardRef<HTMLImageElement, LensProps>((props: LensProps, ref): JSX.Element | null => {\n    const {\n        cursorOffset,\n        position,\n        fadeDurationInMs,\n        isActive,\n        isPositionOutside,\n        style: parentSpecifiedStyle,\n        ...rest\n    } = props;\n    const typedRef = (ref as MutableRefObject<HTMLImageElement>);\n\n    if (!typedRef?.current) {\n        return null;\n    }\n\n    const clearLensHeight = cursorOffset.y * 2;\n    const computedHeight = typedRef.current.offsetHeight - position.y - cursorOffset.y;\n    const maxHeight = typedRef.current.offsetHeight - clearLensHeight;\n    const height = clamp(computedHeight, 0, maxHeight);\n    const clearLensBottom = position.y + cursorOffset.y;\n    const top = Math.max(clearLensBottom, clearLensHeight);\n    const computedStyle = {\n        height: `${height}px`,\n        width: '100%',\n        top: `${top}px`,\n    };\n\n    return (\n        <Lens\n            fadeDurationInMs={fadeDurationInMs}\n            isActive={isActive}\n            isPositionOutside={isPositionOutside}\n            style={{\n                ...parentSpecifiedStyle,\n                ...computedStyle,\n            }}\n            {...rest}\n        />\n    );\n});\n\nLensBottom.displayName = 'LensBottom';\n"]}